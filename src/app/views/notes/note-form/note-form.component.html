<div class="flex">
    <app-dashboard></app-dashboard>

    <div class="bg-dark w-full min-h-screen">
        <div class="m-6">   
            <div class="flex justify-between items-center text-off-white">
                <p class="font-bold mb-12">Note Details</p>
            </div>         
    
      
            <form class="w-full" (submit)="noteDetailsForm.valid && updateNote(noteDetail)" #noteDetailsForm="ngForm">
                <div>
                    <div class="flex flex-col mt-8 text-off-white">
                        <label class="text-xs" for="title"><span class="text-red">*</span> Title</label>
                        <input 
                            [(ngModel)]="noteDetail.title" 
                            class="w-full border-b-[1px] text-white border-off-white bg-transparent outline-none" 
                            type="text" 
                            name="title" 
                            required="true"
                            minlength="3"
                            maxlength="50"
                            #title="ngModel"
                            [class.invalid]="title.invalid && (title.dirty || title.touched)"
                            [class.valid]="title.valid && (title.dirty || title.touched)"
                        />
                    </div>

                    <!-- Error message -->
                    <div *ngIf="title.invalid && (noteDetailsForm.submitted || title.dirty || title.touched)" class="text-red text-xs mt-4">
                        <div *ngIf="title.errors?.['required']">Title is required.</div>
                        <div *ngIf="title.errors?.['minlength']">Title must be at least 3 characters long.</div>
                        <div *ngIf="title.errors?.['maxlength']">Title cannot be more than 50 characters long.</div>
                    </div>
                </div>

                <div>
                    <div class="flex flex-col mt-8 mb-4">
                        <label class="text-xs text-off-white" for="note"><span class="text-red">*</span> Note</label>
                        <textarea 
                        class="text-dark p-4 w-full b border-b-[1px] bg-off-white rounded-md outline-none" 
                        [(ngModel)]="noteDetail.note" 
                        name="note" 
                        required="true"
                        rows="5"
                        minlength="3"
                        maxlength="50"
                        #note="ngModel"
                        [class.invalid]="note.invalid && (note.dirty || note.touched)"
                        [class.valid]="note.valid && (note.dirty || note.touched)"
                        ></textarea>
                    </div>
                    <!-- Error message -->
                    <div *ngIf="note.invalid && (noteDetailsForm.submitted || note.dirty || note.touched)" class="text-red text-xs mt-4">
                        <div *ngIf="note.errors?.['required']">Note is required.</div>
                        <div *ngIf="note.errors?.['minlength']">Note must be at least 3 characters long.</div>
                        <div *ngIf="note.errors?.['maxlength']">Note cannot be more than 50 characters long.</div>
                    </div>
                </div>

                <div class="flex justify-end items-center">
                    <!-- <div class="flex items-center gap-2">
                        <input type="checkbox" checked="checked" class="checkbox checkbox-accent checkbox-sm" name="favorite" id="favorite" />
                        <label class="text-off-white" for="favorite">Favorite</label>
                    </div> -->
                    <div class="text-dark flex gap-4 justify-end">
                        <button class="bg-cyan w-20 font-bold rounded-md shadow-md py-[4px] hover:opacity-75">Save</button>
                        <button class="bg-red w-20 font-bold rounded-md shadow-md py-[4px] hover:opacity-75" routerLink="/notes">Cancel</button>
                    </div>
                </div>
            </form>

        </div>

    </div>
</div>