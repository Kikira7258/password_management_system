<div class="flex">
    <app-dashboard></app-dashboard>

    <div class="bg-dark w-full min-h-screen">
        <div class="m-6">            
            <p class="text-off-white font-bold mb-12">Add Note</p>                  
    
      
            <form class="w-full" (submit)="addNoteForm.valid && addNote()" #addNoteForm="ngForm">
                <div class="flex flex-col mt-8 mb-12 text-off-white">
                    <label class="text-xs" for="title"><span class="text-red">*</span> Title</label>
                    <input class="w-full border-b-[1px] text-white border-off-white bg-transparent outline-none" 
                    type="text" 
                    name="title" 
                    required="true"
                    [(ngModel)]="data.title" 
                    #title="ngModel" 
                    minlength="3"
                    maxlength="50"
                    [class.invalid]="title.invalid && (title.dirty || title.touched)"
                    [class.valid]="title.valid && (title.dirty || title.touched)"
                    /> <!-- Add template reference variable -->

                    <!-- Error Message -->
                    <div *ngIf="note.invalid && (addNoteForm.submitted || note.dirty || note.touched)" class="text-red text-xs mt-4">
                        <div *ngIf="title.errors?.['required']">Title is required.</div>
                        <div *ngIf="title.errors?.['minlength']">Title must be at least 3 characters long.</div>
                        <div *ngIf="title.errors?.['maxlength']">Title cannot be more than 50 characters long.</div>
                    </div>
                </div>


                <div class="flex flex-col mt-8 mb-4">
                    <label class="text-xs text-off-white" for="note"><span class="text-red">*</span> Note</label>
                    <textarea class="text-dark p-4 w-full b border-b-[1px] bg-off-white rounded-md outline-none " 
                    rows="5" 
                    name="note" 
                    required="true"
                    [(ngModel)]="data.note"
                    #note="ngModel"
                    minlength="3"
                    maxlength="200"  
                    [class.invalid]="note.invalid && (note.dirty || note.touched)"
                    [class.valid]="note.valid && (note.dirty || note.touched)"                  
                    ></textarea> <!-- Add template reference variable -->

                    <!-- Error Message -->
                    <div *ngIf="note.invalid && (addNoteForm.submitted || note.dirty || note.touched)" class="text-red text-xs mt-4">
                        <div *ngIf="note.errors?.['required']">Note is required.</div>
                        <div *ngIf="note.errors?.['minlength']">Note must be at least 3 characters long.</div>
                        <div *ngIf="note.errors?.['maxlength']">Note cannot be more than 200 characters long.</div>
                    </div>
                </div>

                <div class="flex justify-end items-center">
                    <div class="text-dark flex gap-4 justify-end">
                        <button class="bg-cyan w-20 font-bold rounded-md shadow-md py-[4px] hover:opacity-75">Save</button>
                        <button class="bg-red w-20 font-bold rounded-md shadow-md py-[4px] hover:opacity-75" routerLink="/notes">Cancel</button>
                    </div>
                </div>
            </form>

        </div>

    </div>
</div>