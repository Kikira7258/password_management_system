<div class="flex">
    <app-dashboard></app-dashboard>

    <div class="bg-dark w-full min-h-screen ml-[200px]">
        <div class="m-6">

            <!-- Header starts here-->
            <div class="flex justify-between items-center mb-12">
               <!-- Search bar -->
               <div class="flex w-56 rounded-md items-center bg-off-white text-dark-gray">
                   <input type="search" class="w-full p-2 bg-transparent outline-none" placeholder="Search..." [(ngModel)]="searchQuery" (input)="applySearchFilter()" />
               </div>
   
               <!-- User profile -->
               <div class="flex items-center">
                <img src="assets/temps/portrait.png" alt="logo" class="w-12 mb-2 mr-4 rounded-full" />
                   <div class="text-xs">
                       <p class="font-bold text-white">Moya James</p>
                       <p class="text-off-white">sampleEmail@gmail.com</p>
                   </div>
               </div>
           </div>
           <!-- Header ends here-->

           <div class="flex justify-between items-center mb-8">
                <p class="text-off-white font-bold">Notes</p>
                
                <span>
                    <a class="text-[1.5rem] py-[6px] px-[12px] bg-cyan text-dark rounded-md" routerLink="/add-note"><i class="fa-solid fa-plus"></i></a>
                </span>                
            </div>

            <!-- Listing -->
           <div class="min-h-[26rem]" *ngIf="filteredNotes.length > 0">
            <table class="bg-off-white w-full">
                <thead class="text-left bg-dark-gray text-off-white shadow-[0.5px_0.5px_10px] shadow-dark">
                    <th class="p-2">Details</th>
                    <th class="p-2">Title</th>
                    <th class="p-2">Notes</th>
                    <th class="p-2">Action</th>
                </thead>
                <tbody>
                    
                    <tr class="hover:bg-white cursor-pointer justify-between" *ngFor="let note of filteredNotes" routerLink="/note-detail/{{note._id}}">
                        <td class="flex items-center px-2 py-4 w-20 bg-dark-gray">                            
                            <img src="assets/images/logos/yahoo.png" alt="logo" class="w-8 rounded-full mr-4 mx-auto" />
                        </td>

                        <td class="p-2" name="title">{{note.title}}</td>
                        <td class="p-2" name="note">{{note.note}}</td>
                        
                        <td class="p-2">
                            <button (click)="deleteNote(note._id)" class="hover:bg-red hover:text-white h-8 w-8 rounded-full shadow-sm shadow-dark">                   
                                <span>
                                    <i class="fa-solid fa-x"></i>                             
                                </span>             
                            </button>
                        </td>
                    </tr>
                                     
                </tbody>
            </table>
           </div>


            <!-- No items -->
            <div *ngIf="filteredNotes.length === 0">
                <div class="">
                    <h1 class="text-off-white font-bold text-center pb-8">No items favorited</h1>
                    <img src="assets/backgrounds/no-item.jpg" alt="no-items" class="w-[28rem] mx-auto rounded-md">
                </div>
            </div>


            <!-- Pagination buttons starts here-->            
            <div class="relative w-full">
                <app-pagination
                    [currentPage]="currentPage"
                    [totalPages]="calculateTotalPages()"
                    (pageChange)="onPageChange($event)"
                    class="bottom-0 left-0 right-0"
                    >
                </app-pagination>
            </div>
            <!-- Pagination buttons ends here-->



            
        </div>

    </div>
</div>


