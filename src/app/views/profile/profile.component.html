<div class="flex">
    <app-dashboard></app-dashboard>

    <div class="bg-dark w-full min-h-screen">
        <div class="m-6">
            
            <div class="header-container">
                <div class="flex justify-between items-center text-off-white mb-12">
                    <p class="text-off-white font-bold">Profile</p>
                    <button (click)="toggleDropdown()"><span class="gear-container"><i class="fa-solid fa-gear"></i></span></button>
                </div> 
                
                <!-- Dropdown content -->
                <div class="dropdown-content" *ngIf="dropdownOpen">
                    <ul>
                        <li><button (click)="openChangePasswordModal()">Change password</button></li>
                        <li><button class="text-red" (click)="confirmDelete()">Delete Account</button></li>
                    </ul>
                </div>
            </div>
            <div *ngIf="loading" class="loader"></div>
            <form (ngSubmit)="updateProfile()" *ngIf="!loading">

                <div class="md:flex md:justify-between md:gap-20" *ngIf="userDetail">
                    <div class="flex flex-col justify-between">
                        <img src="assets/temps/portrait.png" alt="profile" class="w-60 h-60 rounded-full mb-12 mx-auto" />
                        <!-- <input type="file" class="bg-off-white w-60 rounded-md shadow-md shadow-dark-gray py-[4px] font-bold text-dark-gray mx-auto" /> -->
                        <input type="file" class="file-input file-input-bordered file-input-accent w-60 max-w-xs" />
                        
                    </div>

                    <div class="flex flex-col justify-between w-full max-md:mt-8">
                        <div>
                            <label class="text-off-white text-xs" for="fname">First Name</label>
                            <input type="text" name="fname" class="w-full border-b-[1px] text-white border-off-white bg-transparent outline-none" [(ngModel)]="userDetail.first_nm" />
                        </div>
                        <div class="max-md:mt-8">
                            <label class="text-off-white text-xs" for="lname">Last Name</label>
                            <input type="text" name="lname" class="w-full border-b-[1px] text-white border-off-white bg-transparent outline-none" [(ngModel)]="userDetail.last_nm" />
                        </div>
                        <div class="max-md:mt-8">
                            <label class="text-off-white text-xs" for="email">Email</label>
                            <input type="text" name="email" class="w-full border-b-[1px] text-white border-off-white bg-transparent outline-none" [(ngModel)]="userDetail.email" />
                        </div>
                    </div>
                </div>
                
                <div class="text-dark flex gap-4 justify-end mt-8">
                    <button type="submit" class="bg-cyan w-20 font-bold rounded-md shadow-md py-[4px] hover:opacity-75">Save</button>
                    <button class="bg-red w-20 font-bold rounded-md shadow-md py-[4px] hover:opacity-75" routerLink="/items">Cancel</button>
                </div>
                
            </form>
        </div>
    </div>
</div>

<app-change-password *ngIf="showChangePasswordModal" (close)="closeChangePasswordModal()"></app-change-password>